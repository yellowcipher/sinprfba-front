<section *ngIf='auth.user$ | async as user; else login'>
  <div class="container">

        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="row justify-content-center">
                    <img src={{user.mainImage}} class="rounded-circle img-fluid" style="max-width: 30%;">
                </div>
            </div>
        </div>
        <br>
        <div class="row justify-content-center">
          <h1>{{user.lastName}}, {{user.firstName}}</h1>
        </div>
        <br>
        <div class="row justify-content-center">
          <h4>{{user.status}}</h4>
        </div>
        <div class="row justify-content-center" *ngIf='user.status == &quot;Desfiliado&quot;'>
          <small> Baixe <a href="">este</a> pdf e siga as instrução nele contidas para finalizar sua filiação. Prazo de x dias úteis para atualização no sistema. </small>
        </div>
        <br>
     
         
        <!-- accordion -->
        <mat-accordion>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h5>Informações de contato</h5>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="row justify-content-center">
              <div class="col">
                <div class="row justify-content-center">
                  <label>Email: {{user.email}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label> Telefone: {{user.mainPhone.number}}</label>
                </div>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-md-6">
                <label>Endereço:</label>
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-md-6">
                <label>{{user.mainAddress.street}}, {{user.mainAddress.number}} - {{user.mainAddress.district}}</label>
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-md-6">
                <label>{{user.mainAddress.zipCode}} - {{user.mainAddress.complement}}</label>
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-md-6">
                <label>{{user.mainAddress.city}}, {{user.mainAddress.state}}</label>
              </div>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h5>Documentos</h5>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="row justify-content-around">
              <div class="col">
                <div class="row justify-content-center">
                  <label>CPF: {{user.cpf}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label> Matrícula: {{user.registry}}</label>
                </div>
              </div>
            </div>
            <hr>
            <div class="row justify-content-around">
              <div class="col">
                <div class="row justify-content-center">
                  <label>Nº de identidade: {{user.userInfo.identityNumber}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label> Orgão emissor: {{user.userInfo.identityInstitution}}</label>
                </div>
              </div>
            </div>
            <hr>
            <div class="row justify-content-around">
              <div class="col">
                <div class="row justify-content-center">
                  <label>Carteira de Trabalho: {{user.userInfo.ctps}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>OAB: {{user.userInfo.OAB}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label> Identidade profissional: {{user.userInfo.professionalIdentity}}</label>
                </div>
              </div>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h5>Informações pessoais</h5>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="row justify-content-around">
              <div class="col">
                <div class="row justify-content-center">
                  <label>Gênero: {{user.userInfo.gender}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>Estado civíl: {{user.userInfo.maritalStatus}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>Escolaridade: {{user.userInfo.scholarity}}</label>
                </div>
              </div>
            </div>
            <hr>
            <div class="row justify-content-around">
              <div class="col">
                <div class="row justify-content-center">
                  <label>Profissão: {{user.userInfo.profession}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>Nome da mãe: {{user.userInfo.motherName}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>Nome do Pai: {{user.userInfo.fatherName}}</label>
                </div>
              </div>
            </div>
            <hr>
            <div class="row justify-content-around">
              <div class="col">
                <div class="row justify-content-center">
                  <label>Data de nascimento: {{user.userInfo.birthdate}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>Naturalidade: {{user.userInfo.placeOfBirth}}</label>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-center">
                  <label>Nacionalidade: {{user.userInfo.nationality}}</label>
                </div>
              </div>
            </div>
          </mat-expansion-panel>
        </mat-accordion>

        <!-- /accordion -->
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="row justify-content-center">
                    <small><a routerLink="/edit-profile" style="cursor:pointer">Clique aqui</a> para editar suas informações</small>
                </div>
            </div>
        </div>
        <br>
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="row justify-content-center">
                    <small><a (click)='logOut()' style="cursor:pointer" href="">Sair da conta</a></small>
                </div>
            </div>
        </div>
        <br>
  </div>
  
     
</section>




<!-- Login -->




<ng-template #login>
  <section class="clean-block clean-form dark" >
    <div class="container">
      <div class="block-heading">
        <h2 class="text-info">Acesse sua conta</h2>
      </div>
      <form [formGroup]='loginForm'>
        <label>E-mail</label>
        <input type="email" formControlName='email' class="form-control" [class.is-invalid]="loginForm.get('email').touched && loginForm.get('email').invalid">
        <div *ngIf="loginForm.get('email').touched && !loginForm.get('email').valid">
            <p *ngIf="loginForm.get('email').errors.required"><small style="color:red;">*Campo obrigatório</small></p>
            <p *ngIf="loginForm.get('email').errors.email"><small style="color:red;">*E-mail inválido</small></p>
        </div>
        <br>
        <label for="">Senha</label>
        <input type="password" formControlName='password' class="form-control" [class.is-invalid]="loginForm.get('password').touched && loginForm.get('password').invalid">
        <div *ngIf="loginForm.get('password').touched && !loginForm.get('password').valid">
            <p *ngIf="loginForm.get('password').errors.required"><small style="color:red;">*Campo obrigatório</small></p>
            <p *ngIf="loginForm.get('password').errors.minlength"><small style="color:red;">*A senha deve ter no mínimo 8 caracteres</small></p>
        </div>
        <br>
        <div class="form-group"><button [disabled]="!loginForm.valid" class="btn btn-primary btn-block" type="button" (click)='signIn()'>Entrar</button></div>
        <span> Não tem uma conta? <a routerLink="/registration" style="cursor:pointer">Cadastre-se!</a></span>
        <br>
        <a routerLink="/forgot-password" style="cursor:pointer"><small>Esqueci minha senha</small></a>
      </form>
      
    </div>
  </section>
</ng-template>




